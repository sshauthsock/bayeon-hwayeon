const a0_0xd771a6=a0_0x5194;(function(_0x1f7548,_0x400790){const _0x2acce4=a0_0x5194,_0x3a8349=_0x1f7548();while(!![]){try{const _0x112f6d=parseInt(_0x2acce4(0x1ad))/0x1+parseInt(_0x2acce4(0x172))/0x2*(-parseInt(_0x2acce4(0x221))/0x3)+parseInt(_0x2acce4(0x247))/0x4+parseInt(_0x2acce4(0x1d9))/0x5*(parseInt(_0x2acce4(0x19d))/0x6)+-parseInt(_0x2acce4(0x242))/0x7+parseInt(_0x2acce4(0x210))/0x8*(-parseInt(_0x2acce4(0x17d))/0x9)+parseInt(_0x2acce4(0x199))/0xa;if(_0x112f6d===_0x400790)break;else _0x3a8349['push'](_0x3a8349['shift']());}catch(_0x46f72d){_0x3a8349['push'](_0x3a8349['shift']());}}}(a0_0x5eb1,0xcd626));const a0_0x1400cf=(function(){const _0x221e7e=a0_0x5194,_0x558ee8={'PNkYj':function(_0xa78c05,_0x3e0d22){return _0xa78c05+_0x3e0d22;},'yukhf':_0x221e7e(0x1ea)};let _0x388bef=!![];return function(_0x2869a0,_0x33cbc0){const _0x361e2d=_0x221e7e;if(_0x361e2d(0x1ea)===_0x558ee8['yukhf']){const _0x2c1aa4=_0x388bef?function(){const _0x114b93=_0x361e2d;if(_0x33cbc0){const _0x5bc11a=_0x33cbc0[_0x114b93(0x1e3)](_0x2869a0,arguments);return _0x33cbc0=null,_0x5bc11a;}}:function(){};return _0x388bef=![],_0x2c1aa4;}else{if(_0x2de866[_0x361e2d(0x202)])_0x5f59c9[_0x5c17de[_0x361e2d(0x202)]]=_0x558ee8[_0x361e2d(0x17e)](_0x5415f9[_0x3dfa0a['influence']]||0x0,0x1);return _0x375987;}};}()),a0_0x2c21fc=a0_0x1400cf(this,function(){const _0x160035=a0_0x5194,_0x54343e={'MlTwZ':_0x160035(0x174)};return a0_0x2c21fc[_0x160035(0x18e)]()[_0x160035(0x237)](_0x54343e[_0x160035(0x169)])[_0x160035(0x18e)]()[_0x160035(0x165)](a0_0x2c21fc)[_0x160035(0x237)](_0x54343e[_0x160035(0x169)]);});a0_0x2c21fc();import{createElement}from'./utils.js';import{getHistoryForCategory}from'./historyManager.js';import{state as a0_0x15aa53}from'./state.js';function a0_0x5eb1(){const _0x5488c4=['MlTwZ','kbSUB','<span\x20class=\x22current-marker\x22>최신</span>','keydown','aLuIW','\x22\x20class=\x22spirit-thumbnail\x22\x20alt=\x22','forEach','XVtXN','WXyFi','2UZWSFR','uocRE','(((.+)+)+)+$','EpxwU','BkIcG','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>','gIqBF','onclick','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22effects-content\x22>','AYejW','9HwxVSB','PNkYj','click','grade','TqZBx','joGbK','history-tabs-container','keys','querySelectorAll','gradeCounts','LGKJs','cSEIy','size','zIgbM','timestamp','add','substring','toString','<button\x20class=\x22history-tab\x20','optimalGradeEffects','remove','pHjau','closeOptimalModal','style','\x22\x20alt=\x22','target','filter','\x20<span\x20class=\x22section-score\x22>','7713650NBiEqf','name','addEventListener','optimalModalContent','1500822nNOEkB','\x22\x20class=\x22faction-icon\x22\x20alt=\x22','jARNj','join','QWCff','button','gJYsN','<ul\x20class=\x22effects-list\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spirit-info-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spirit-info-name\x22>','stat-damage-resistance-penetration','historyId','_escListener','auto','OVDYD','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spirit-info-item\x22\x20title=\x22','allSpirits','813923gOasKy','</td>','stats','mGJMt','vEZzb','bLKYw','optimalSpiritsDetails','isArray','\x22>x','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spirits-grid-container\x22>','oUBXQ','\x22><img\x20src=\x22','type','tTyFA','teKwe','POEwy','<span\x20class=\x22grade-tag\x20grade-tag-','kOqfV','</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><br><span\x20class=\x22spirit-table-name\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22score-breakdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(등급:\x20','find','CMGIq','nYBFX','dksBc','</ul>','yFuAU','Escape','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22stat-total\x22>','jKiQY','mzuFS','bindScore','display','hUnWQ','wortA','<p\x20class=\x22no-effects\x22>효과\x20없음</p>','lUJqI','rWyoG','legend','QWyFB','SJCQX','25wqJyPp','xZPUg','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>','XQThz','DNZfq','zUvtm','AWVIG','RQhVR','PZKnw','</span>','apply','active','KWmQw','sort',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22/','sQQTq','map','tSIxH','qihEt','</span><span\x20class=\x22stat-value\x22>','<h4>상세\x20스탯\x20비교</h4><p>선택된\x20환수의\x20장착\x20효과\x20스탯\x20정보가\x20없습니다.</p>','mkxit','factionScore','XPdRV','ASkEZ','UxUyc','bindStat','fhqHb','<p\x20class=\x22no-history-message\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','optimalBindEffects','hidden','reduce','JEapZ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22results-section\x22\x20id=\x22optimalGradeEffects\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22results-section\x22\x20id=\x22optimalFactionEffects\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22results-section\x22\x20id=\x22optimalBindEffects\x22></div>\x0a\x20\x20\x20\x20','immortal','cfOQM','WLKbY','\x22\x20data-history-id=\x22','QYWGk','modal-overlay','influence','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20세력:\x20','div','overflow','length','kEORW','classList','</div>','hoBuW','historyContainer','Egugl','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-timestamp\x22>','stat-damage-resistance','ctGUw','6621984vRWAhW','계산\x20결과\x20데이터가\x20올바르지\x20않습니다.','factionCounts','AaKYN','\x22\x20title=\x22','WHfMd','dNdOq','body','newest\x20active','results-container',')\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22','GOWzZ','tISce','<div\x20class=\x22history-tab-placeholder\x22></div>','modal-content','optimalModal','4820499eiAznz','BJVFB','tlRhV','세력\x20효과','</span></li>','WalzG','</tbody></table></div>','rrPfH','\x20결속\x20최적\x20조합</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-score-display\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22score-title\x22>종합\x20점수</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22score-value\x22>','vaQEm','getElementById','UOkkm','level','swdal','.history-tab','combination-results-container','등급\x20효과','BhRiD','appendChild','juvjz','uIFyz','gradeScore','search','FwlPX','nChaI','UeGrF','replace','xaqxw','thdLv','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tab-indicators\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22set-info\x22>','key','trcyZ','6995555MwBfVP','noBab','combination','eCgEz','FNUhI','5756908JANHKU','includes','\x22><span\x20class=\x22stat-name\x22>','XRPKs','combinationResultsContainer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4>상세\x20스탯\x20비교</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22table-wrapper\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22spirits-stats-table\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>능력치</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22faction-tag\x22\x20title=\x22','optimalHeader','innerHTML','modal-close','constructor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spirit-info-level\x22>Lv.','toLocaleString','image'];a0_0x5eb1=function(){return _0x5488c4;};return a0_0x5eb1();}import{FACTION_ICONS,STATS_MAPPING,PERCENT_STATS}from'./constants.js';let activeModal=null;const SPECIAL_STAT_CLASSES={'damageResistance':a0_0xd771a6(0x20e),'damageResistancePenetration':a0_0xd771a6(0x1a6),'pvpDefensePercent':'stat-pvp-defense-percent','pvpDamagePercent':'stat-pvp-damage-percent'};function ensureNumber(_0x3b2a0a){const _0x21b398=a0_0xd771a6,_0x1608f1={'uocRE':function(_0x58d874,_0x3d4d71){return _0x58d874===_0x3d4d71;},'ASkEZ':function(_0x52b648,_0xe9870){return _0x52b648(_0xe9870);}};if(_0x1608f1[_0x21b398(0x173)](_0x3b2a0a,undefined)||_0x3b2a0a===null)return 0x0;const _0x485ab9=parseFloat(_0x1608f1[_0x21b398(0x1f1)](String,_0x3b2a0a)[_0x21b398(0x23b)](/,/g,''));return isNaN(_0x485ab9)?0x0:_0x485ab9;}function createBaseModal(){const _0x1c957c=a0_0xd771a6,_0x18c9cd={'LGKJs':function(_0x28fd8a,_0x4e05ff){return _0x28fd8a===_0x4e05ff;},'uIFyz':function(_0x198aa6){return _0x198aa6();},'SvWqS':_0x1c957c(0x1ca),'lPVXH':function(_0x3c2af2,_0x286a5b,_0x31f602,_0x113455){return _0x3c2af2(_0x286a5b,_0x31f602,_0x113455);},'Egugl':_0x1c957c(0x204),'WpiXt':_0x1c957c(0x21f),'rWyoG':_0x1c957c(0x19c),'hoBuW':function(_0x33500d,_0x2822e8,_0xdfd339,_0x70f2d1){return _0x33500d(_0x2822e8,_0xdfd339,_0x70f2d1);},'RQhVR':_0x1c957c(0x1a2),'WXyFi':'click','thdLv':_0x1c957c(0x16c)};_0x18c9cd[_0x1c957c(0x235)](removeAllModals);const _0x59451d=createElement(_0x1c957c(0x204),_0x1c957c(0x201),{'id':_0x1c957c(0x220)}),_0x44a36d=_0x18c9cd['lPVXH'](createElement,_0x18c9cd[_0x1c957c(0x20c)],_0x18c9cd['WpiXt'],{'id':_0x18c9cd[_0x1c957c(0x1d5)]}),_0x5de305=_0x18c9cd[_0x1c957c(0x20a)](createElement,_0x18c9cd[_0x1c957c(0x1e0)],'modal-close',{'id':_0x1c957c(0x193),'text':'✕'});_0x44a36d['appendChild'](_0x5de305),_0x59451d['appendChild'](_0x44a36d),document['body'][_0x1c957c(0x233)](_0x59451d),_0x5de305[_0x1c957c(0x179)]=removeAllModals,_0x59451d[_0x1c957c(0x19b)](_0x18c9cd[_0x1c957c(0x171)],_0x328d31=>{const _0x3e9239=_0x1c957c;if(_0x18c9cd[_0x3e9239(0x187)](_0x328d31[_0x3e9239(0x196)],_0x59451d))_0x18c9cd[_0x3e9239(0x235)](removeAllModals);});const _0x3d1083=_0x15a505=>{const _0x2678e9=_0x1c957c;if(_0x15a505[_0x2678e9(0x240)]===_0x18c9cd['SvWqS'])_0x18c9cd['uIFyz'](removeAllModals);};return document[_0x1c957c(0x19b)](_0x18c9cd[_0x1c957c(0x23d)],_0x3d1083),_0x59451d[_0x1c957c(0x1a8)]=_0x3d1083,activeModal=_0x59451d,{'modal':_0x59451d,'content':_0x44a36d};}export function showResultModal(_0x2ca3e5){const _0x1ea4b6=a0_0xd771a6,_0x1757cf={'ciWwY':function(_0x1eec59,_0x49a939){return _0x1eec59===_0x49a939;},'tTyFA':function(_0x1edcd6,_0x55fca4){return _0x1edcd6(_0x55fca4);},'jKiQY':_0x1ea4b6(0x211),'yFuAU':function(_0x2c943c){return _0x2c943c();},'nYBFX':_0x1ea4b6(0x1cb)};if(!_0x2ca3e5||!Array[_0x1ea4b6(0x1b4)](_0x2ca3e5[_0x1ea4b6(0x244)])||_0x1757cf['ciWwY'](_0x2ca3e5['combination']['length'],0x0)){_0x1757cf[_0x1ea4b6(0x1ba)](alert,_0x1757cf[_0x1ea4b6(0x1cd)]);return;}const {modal:_0x172493,content:_0x9a6a32}=_0x1757cf[_0x1ea4b6(0x1c9)](createBaseModal);_0x172493['style'][_0x1ea4b6(0x1d0)]=_0x1757cf[_0x1ea4b6(0x1c6)],document[_0x1ea4b6(0x217)][_0x1ea4b6(0x194)][_0x1ea4b6(0x205)]=_0x1ea4b6(0x1f8),renderResultContent(_0x2ca3e5,_0x9a6a32);}function renderResultContent(_0xcc1da3,_0x328029){const _0x4f083d=a0_0xd771a6,_0x2d9029={'OHNBV':function(_0x1224c0,_0x4926a0,_0x44ec52,_0x10bd28){return _0x1224c0(_0x4926a0,_0x44ec52,_0x10bd28);},'CpfXL':_0x4f083d(0x1a2),'XPdRV':_0x4f083d(0x164),'zIgbM':function(_0x2015de,_0x46705d,_0x284c2e,_0x2f7e64){return _0x2015de(_0x46705d,_0x284c2e,_0x2f7e64);},'AYejW':_0x4f083d(0x204),'cfOQM':_0x4f083d(0x162),'UxUyc':function(_0x10cf3d,_0xfb916e,_0x46a139,_0xbe762e){return _0x10cf3d(_0xfb916e,_0x46a139,_0xbe762e);},'eCgEz':_0x4f083d(0x183),'noBab':_0x4f083d(0x230),'SJCQX':'combinationResultsContainer','jJSMn':function(_0xc56578,_0x3357a2,_0x81540d){return _0xc56578(_0x3357a2,_0x81540d);},'nChaI':_0x4f083d(0x219),'NZwNi':'spirit-details-container','FNUhI':_0x4f083d(0x1b3),'hUnWQ':function(_0x27d73c,_0x34baec){return _0x27d73c(_0x34baec);}};_0x328029[_0x4f083d(0x163)]='';const _0x248f02=_0x2d9029['OHNBV'](createElement,_0x2d9029['CpfXL'],_0x2d9029[_0x4f083d(0x1f0)],{'text':'✕'});_0x248f02[_0x4f083d(0x179)]=removeAllModals;const _0x42e220=_0x2d9029[_0x4f083d(0x18a)](createElement,_0x2d9029[_0x4f083d(0x17c)],'optimal-header',{'id':_0x2d9029[_0x4f083d(0x1fd)]}),_0x594385=_0x2d9029[_0x4f083d(0x1f2)](createElement,_0x4f083d(0x204),_0x2d9029[_0x4f083d(0x245)],{'id':_0x4f083d(0x20b)}),_0x4cab02=createElement('div',_0x2d9029[_0x4f083d(0x243)],{'id':_0x2d9029[_0x4f083d(0x1d8)]}),_0x5918b5=_0x2d9029['jJSMn'](createElement,'div',_0x2d9029[_0x4f083d(0x239)]);_0x5918b5[_0x4f083d(0x163)]=_0x4f083d(0x1fb);const _0x410591=_0x2d9029['OHNBV'](createElement,_0x2d9029[_0x4f083d(0x17c)],_0x2d9029['NZwNi'],{'id':_0x2d9029[_0x4f083d(0x246)]});_0x328029['append'](_0x248f02,_0x42e220,_0x594385,_0x4cab02,_0x5918b5,_0x410591),updateResultView(_0xcc1da3),_0x2d9029[_0x4f083d(0x1d1)](renderHistoryTabs,_0xcc1da3['spirits'][0x0][_0x4f083d(0x1b9)]);}function updateResultView(_0x33d64f){const _0x127610=a0_0xd771a6,_0x38ffc0={'sQQTq':function(_0x3ebbb5,_0x2b06c5){return _0x3ebbb5+_0x2b06c5;},'POEwy':function(_0xb23fa0,_0x4feb1e){return _0xb23fa0(_0x4feb1e);},'fhqHb':function(_0x2d3cf7,_0x14cd8b){return _0x2d3cf7(_0x14cd8b);},'gJYsN':function(_0xc30c3c,_0x30af33){return _0xc30c3c(_0x30af33);},'AaKYN':function(_0x4f9391,_0x1f425b){return _0x4f9391(_0x1f425b);},'KWmQw':_0x127610(0x15f),'cSEIy':function(_0x30d237,_0x2c2ac7,_0x56f97e,_0x4c85b9,_0x5f2c8d,_0x256f14){return _0x30d237(_0x2c2ac7,_0x56f97e,_0x4c85b9,_0x5f2c8d,_0x256f14);},'mzuFS':_0x127610(0x190),'dNdOq':_0x127610(0x231),'zUvtm':_0x127610(0x224),'vaQEm':_0x127610(0x1f7),'ctGUw':'장착\x20효과'},{gradeScore:_0xe09d75,factionScore:_0x5c38eb,bindScore:_0x1be7cf,gradeEffects:_0x46b270,factionEffects:_0x50cd04,bindStats:_0x1a369e,spirits:_0x209fc2}=_0x33d64f,_0xee2834=Math[_0x127610(0x17a)](_0x38ffc0[_0x127610(0x1e8)](ensureNumber(_0xe09d75)+_0x38ffc0[_0x127610(0x1bc)](ensureNumber,_0x5c38eb),_0x38ffc0[_0x127610(0x1f4)](ensureNumber,_0x1be7cf)));document[_0x127610(0x22b)](_0x127610(0x162))[_0x127610(0x163)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22modal-main-title\x22>'+_0x209fc2[0x0]['type']+_0x127610(0x229)+_0xee2834+_0x127610(0x1c3)+Math['round'](ensureNumber(_0xe09d75))+_0x127610(0x203)+Math['round'](_0x38ffc0[_0x127610(0x1a3)](ensureNumber,_0x5c38eb))+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20장착:\x20'+Math['round'](_0x38ffc0[_0x127610(0x213)](ensureNumber,_0x1be7cf))+_0x127610(0x21a),document[_0x127610(0x22b)](_0x38ffc0[_0x127610(0x1e5)])[_0x127610(0x163)]=_0x127610(0x1b6)+_0x209fc2[_0x127610(0x1e9)](_0x4d61b1=>_0x127610(0x1ab)+_0x4d61b1['name']+'\x20(Lv.'+(_0x4d61b1['stats']?.[0x0]?.[_0x127610(0x22d)]||0x19)+_0x127610(0x1e7)+_0x4d61b1[_0x127610(0x168)]+_0x127610(0x195)+_0x4d61b1[_0x127610(0x19a)]+_0x127610(0x1a5)+_0x4d61b1['name']+_0x127610(0x166)+(_0x4d61b1[_0x127610(0x1af)]?.[0x0]?.['level']||0x19)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>')[_0x127610(0x1a0)]('')+_0x127610(0x1f6);const _0x4cccba=_0x209fc2['reduce']((_0x50408c,_0xda2ac3)=>{const _0x5d715f=_0x127610;return _0x50408c[_0xda2ac3[_0x5d715f(0x180)]]=_0x38ffc0[_0x5d715f(0x1e8)](_0x50408c[_0xda2ac3['grade']]||0x0,0x1),_0x50408c;},{}),_0x20a350=_0x209fc2[_0x127610(0x1f9)]((_0x2f1a5a,_0x116390)=>{const _0x29791f=_0x127610;if(_0x116390[_0x29791f(0x202)])_0x2f1a5a[_0x116390[_0x29791f(0x202)]]=_0x38ffc0['sQQTq'](_0x2f1a5a[_0x116390[_0x29791f(0x202)]]||0x0,0x1);return _0x2f1a5a;},{});_0x38ffc0[_0x127610(0x188)](renderEffects,_0x38ffc0[_0x127610(0x1ce)],_0x38ffc0[_0x127610(0x216)],_0x46b270,_0xe09d75,{'gradeCounts':_0x4cccba}),_0x38ffc0[_0x127610(0x188)](renderEffects,'optimalFactionEffects',_0x38ffc0[_0x127610(0x1de)],_0x50cd04,_0x5c38eb,{'factionCounts':_0x20a350}),renderEffects(_0x38ffc0[_0x127610(0x22a)],_0x38ffc0[_0x127610(0x20f)],_0x1a369e,_0x1be7cf),_0x38ffc0[_0x127610(0x1a3)](renderSpiritDetailsTable,_0x209fc2);}function a0_0x5194(_0x27e451,_0xe5547d){const _0x5608b3=a0_0x5eb1();return a0_0x5194=function(_0x2c21fc,_0x1400cf){_0x2c21fc=_0x2c21fc-0x15f;let _0x5eb1b2=_0x5608b3[_0x2c21fc];return _0x5eb1b2;},a0_0x5194(_0x27e451,_0xe5547d);}function renderEffects(_0x165bcb,_0x29bc16,_0x28e42d,_0x2bd03e,_0x59a04d={}){const _0x2931cb=a0_0xd771a6,_0x2bac97={'CMGIq':function(_0x13624d,_0x463819){return _0x13624d===_0x463819;},'xZPUg':function(_0x2b6380){return _0x2b6380();},'pHjau':function(_0x1fe917,_0x404a1c,_0x4a7a56,_0x5ec1eb){return _0x1fe917(_0x404a1c,_0x4a7a56,_0x5ec1eb);},'dksBc':_0x2931cb(0x201),'TqZBx':_0x2931cb(0x220),'BhRiD':'div','XRPKs':'modal-content','FwlPX':function(_0x473ab7,_0x31f9b1,_0x4e4876,_0x3bf92d){return _0x473ab7(_0x31f9b1,_0x4e4876,_0x3bf92d);},'JEapZ':_0x2931cb(0x1a2),'jkHRY':_0x2931cb(0x17f),'jARNj':'keydown','kbSUB':function(_0x2ac521,_0x340c1c){return _0x2ac521!==_0x340c1c;},'QWyFB':function(_0x4361d7,_0x1fa908){return _0x4361d7(_0x1fa908);},'tlRhV':_0x2931cb(0x228),'mPAIf':function(_0x1f443a,_0x3ba3b6){return _0x1f443a>_0x3ba3b6;}},_0x4d6cf8=document[_0x2931cb(0x22b)](_0x165bcb);if(!_0x4d6cf8)return;let _0x14fb84='';if(_0x59a04d[_0x2931cb(0x186)]){if(_0x2bac97[_0x2931cb(0x223)]!==_0x2931cb(0x228)){const _0x170b40={'bOTsc':function(_0x42f59b,_0x2880b7){const _0xcdc65e=_0x2931cb;return _0x2bac97[_0xcdc65e(0x1c5)](_0x42f59b,_0x2880b7);},'krvcl':function(_0x48f409){const _0x33e508=_0x2931cb;return _0x2bac97[_0x33e508(0x1da)](_0x48f409);},'AcblR':function(_0x8f0f85,_0x1ab6af){return _0x8f0f85===_0x1ab6af;},'XVtXN':_0x2931cb(0x1ca)};_0x29dd9d();const _0xd02732=_0x2bac97[_0x2931cb(0x192)](_0x12a731,_0x2931cb(0x204),_0x2bac97[_0x2931cb(0x1c7)],{'id':_0x2bac97[_0x2931cb(0x181)]}),_0x4b37b4=_0x2bac97[_0x2931cb(0x192)](_0x50ec62,_0x2bac97[_0x2931cb(0x232)],_0x2bac97[_0x2931cb(0x24a)],{'id':_0x2931cb(0x19c)}),_0xfbe57a=_0x2bac97[_0x2931cb(0x238)](_0x4812f9,_0x2bac97[_0x2931cb(0x1fa)],'modal-close',{'id':'closeOptimalModal','text':'✕'});_0x4b37b4[_0x2931cb(0x233)](_0xfbe57a),_0xd02732[_0x2931cb(0x233)](_0x4b37b4),_0x240bb4[_0x2931cb(0x217)][_0x2931cb(0x233)](_0xd02732),_0xfbe57a[_0x2931cb(0x179)]=_0x3c4a41,_0xd02732['addEventListener'](_0x2bac97['jkHRY'],_0x7b94eb=>{const _0x454671=_0x2931cb;if(_0x170b40['bOTsc'](_0x7b94eb[_0x454671(0x196)],_0xd02732))_0x170b40['krvcl'](_0x58ddf3);});const _0x25f4bf=_0x1cb454=>{const _0xccce20=_0x2931cb;if(_0x170b40['AcblR'](_0x1cb454[_0xccce20(0x240)],_0x170b40[_0xccce20(0x170)]))_0x2151b3();};return _0x123975[_0x2931cb(0x19b)](_0x2bac97[_0x2931cb(0x19f)],_0x25f4bf),_0xd02732[_0x2931cb(0x1a8)]=_0x25f4bf,_0xe7968b=_0xd02732,{'modal':_0xd02732,'content':_0x4b37b4};}else _0x14fb84=Object['entries'](_0x59a04d[_0x2931cb(0x186)])[_0x2931cb(0x197)](([,_0x3b85ae])=>_0x3b85ae>=0x2)[_0x2931cb(0x1e9)](([_0x475985,_0x4dbfe1])=>_0x2931cb(0x1bd)+(_0x475985==='전설'?_0x2931cb(0x1d6):_0x2931cb(0x1fc))+'\x22>'+_0x475985+'x'+_0x4dbfe1+_0x2931cb(0x1e2))[_0x2931cb(0x1a0)]('\x20');}else _0x59a04d[_0x2931cb(0x212)]&&(_0x14fb84=Object['entries'](_0x59a04d[_0x2931cb(0x212)])[_0x2931cb(0x197)](([,_0x5551a8])=>_0x5551a8>=0x2)['map'](([_0x4daae3,_0x3b7ddb])=>{const _0x2382a5=_0x2931cb,_0x19bf3a=FACTION_ICONS[_0x4daae3]||'';return _0x2382a5(0x161)+_0x4daae3+_0x2382a5(0x1b8)+_0x19bf3a+_0x2382a5(0x19e)+_0x4daae3+'\x22>x'+_0x3b7ddb+_0x2382a5(0x1e2);})[_0x2931cb(0x1a0)]('\x20'));let _0x11a46c=_0x2931cb(0x1d3);_0x28e42d&&Array[_0x2931cb(0x1b4)](_0x28e42d)&&_0x2bac97['mPAIf'](_0x28e42d[_0x2931cb(0x206)],0x0)&&(_0x11a46c=_0x2931cb(0x1a4)+_0x28e42d[_0x2931cb(0x1e9)](_0x32f7c7=>{const _0x38e4a1=_0x2931cb;if(_0x2bac97[_0x38e4a1(0x16a)](_0x38e4a1(0x182),_0x38e4a1(0x182))){const _0x1829a9=_0x18aedf[_0x28492b]||'';return'<span\x20class=\x22faction-tag\x22\x20title=\x22'+_0x450124+_0x38e4a1(0x1b8)+_0x1829a9+'\x22\x20class=\x22faction-icon\x22\x20alt=\x22'+_0x2cab33+_0x38e4a1(0x1b5)+_0x2c589d+_0x38e4a1(0x1e2);}else{const _0x3c2506=PERCENT_STATS[_0x38e4a1(0x248)](_0x32f7c7[_0x38e4a1(0x240)]),_0x352f7e=_0x3c2506?_0x2bac97[_0x38e4a1(0x1d7)](ensureNumber,_0x32f7c7['value'])+'%':_0x2bac97[_0x38e4a1(0x1d7)](ensureNumber,_0x32f7c7['value'])[_0x38e4a1(0x167)](),_0x2af9f3=SPECIAL_STAT_CLASSES[_0x32f7c7[_0x38e4a1(0x240)]]||'';return'<li\x20class=\x22'+_0x2af9f3+_0x38e4a1(0x249)+_0x32f7c7['name']+_0x38e4a1(0x1ec)+_0x352f7e+_0x38e4a1(0x225);}})[_0x2931cb(0x1a0)]('')+_0x2931cb(0x1c8)),_0x4d6cf8[_0x2931cb(0x163)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4>'+_0x29bc16+_0x2931cb(0x198)+Math[_0x2931cb(0x17a)](ensureNumber(_0x2bd03e))+'</span></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x14fb84?_0x2931cb(0x23f)+_0x14fb84+_0x2931cb(0x209):'')+_0x2931cb(0x17b)+_0x11a46c+'</div>\x0a\x20\x20\x20\x20';}function renderHistoryTabs(_0x4a0f35){const _0x24d01a=a0_0xd771a6,_0x19d38b={'WalzG':function(_0x568c20,_0x2e89cf){return _0x568c20===_0x2e89cf;},'OVDYD':function(_0x535b43,_0x250227){return _0x535b43(_0x250227);},'bLKYw':function(_0x518f07,_0x2b871d){return _0x518f07!==_0x2b871d;},'QWCff':'QyCRt','DNZfq':'TnFSD','swdal':function(_0x207f15,_0x2805dc){return _0x207f15+_0x2805dc;},'xaqxw':function(_0x7d417,_0x19920f){return _0x7d417(_0x19920f);},'juvjz':function(_0x3b9088,_0x137a26){return _0x3b9088+_0x137a26;},'PZKnw':function(_0xd99412,_0x5262e9){return _0xd99412(_0x5262e9);},'wortA':function(_0x2e704a,_0x3d0d29){return _0x2e704a(_0x3d0d29);},'BkIcG':function(_0x18253b,_0x50c148){return _0x18253b(_0x50c148);},'EpxwU':function(_0x5dfb05,_0xa860){return _0x5dfb05===_0xa860;},'kEORW':function(_0x1a8cb1,_0x585ff4){return _0x1a8cb1===_0x585ff4;},'mkxit':'best','mYgRy':_0x24d01a(0x16b),'AWVIG':_0x24d01a(0x22f),'BJVFB':_0x24d01a(0x1e4),'mGJMt':function(_0x52f95e,_0x13e4e7,_0x1474f7){return _0x52f95e(_0x13e4e7,_0x1474f7);},'GOWzZ':function(_0x53c909,_0x32260b){return _0x53c909(_0x32260b);},'aOnxV':_0x24d01a(0x17f),'UOkkm':_0x24d01a(0x20b),'aLuIW':function(_0x55ef41,_0x3fea10){return _0x55ef41===_0x3fea10;},'vAFEu':function(_0x5c8ad0,_0x13536e){return _0x5c8ad0!==_0x13536e;},'qihEt':_0x24d01a(0x200),'sktjV':_0x24d01a(0x23a),'XQThz':function(_0xe10c93,_0x1730a8){return _0xe10c93>_0x1730a8;}},_0x32c9f5=_0x19d38b['wortA'](getHistoryForCategory,_0x4a0f35),_0x2a65f1=document[_0x24d01a(0x22b)](_0x19d38b[_0x24d01a(0x22c)]);if(!_0x2a65f1)return;if(_0x19d38b[_0x24d01a(0x16d)](_0x32c9f5['length'],0x0)){if(_0x19d38b['vAFEu'](_0x19d38b[_0x24d01a(0x1eb)],_0x19d38b['sktjV'])){_0x2a65f1['innerHTML']=_0x24d01a(0x1f5)+_0x4a0f35+'\x20카테고리에\x20저장된\x20기록이\x20없습니다.</p>';return;}else{_0x1a9239[_0x24d01a(0x163)]=_0x24d01a(0x1ed);return;}}let _0x573fac=-0x1,_0x4378cd=null;const _0x2f9a3d=_0x19d38b[_0x24d01a(0x1dc)](_0x32c9f5[_0x24d01a(0x206)],0x0)?_0x32c9f5[0x0]['id']:null;_0x32c9f5[_0x24d01a(0x16f)](_0x2903b7=>{const _0x192a62=_0x24d01a,_0x1081ea={'YwcEz':function(_0x493462,_0x2b24f7){const _0x5dea77=a0_0x5194;return _0x19d38b[_0x5dea77(0x226)](_0x493462,_0x2b24f7);},'JzbuH':function(_0x323c28,_0x184d44){const _0x514b2a=a0_0x5194;return _0x19d38b[_0x514b2a(0x1aa)](_0x323c28,_0x184d44);},'WLKbY':function(_0x3ecd7f,_0x1c50ab){return _0x3ecd7f(_0x1c50ab);}};if(_0x19d38b[_0x192a62(0x1b2)](_0x19d38b[_0x192a62(0x1a1)],_0x19d38b[_0x192a62(0x1dd)])){const _0x1bcc38=Math['round'](_0x19d38b[_0x192a62(0x22e)](_0x19d38b[_0x192a62(0x22e)](_0x19d38b[_0x192a62(0x23c)](ensureNumber,_0x2903b7[_0x192a62(0x236)]),_0x19d38b[_0x192a62(0x23c)](ensureNumber,_0x2903b7[_0x192a62(0x1ef)])),ensureNumber(_0x2903b7[_0x192a62(0x1cf)])));_0x1bcc38>_0x573fac&&(_0x573fac=_0x1bcc38,_0x4378cd=_0x2903b7['id']);}else{if(_0x4b9a5a===_0x536897||_0x1081ea['YwcEz'](_0x5c3bb8,null))return 0x0;const _0xb8b301=_0x1081ea['JzbuH'](_0x28c803,_0x1081ea[_0x192a62(0x1fe)](_0x3a9b09,_0x25aff9)[_0x192a62(0x23b)](/,/g,''));return _0x1081ea[_0x192a62(0x1fe)](_0x19e40b,_0xb8b301)?0x0:_0xb8b301;}});const _0x15acbc=_0x19d38b['GOWzZ'](Array,0x5)['fill'](null)[_0x24d01a(0x1e9)]((_0x35b540,_0x55e220)=>{const _0x5ecf0d=_0x24d01a,_0x1609d1=_0x32c9f5[_0x55e220];if(!_0x1609d1)return _0x5ecf0d(0x21e);const _0x4c91fb=Math['round'](_0x19d38b[_0x5ecf0d(0x234)](_0x19d38b[_0x5ecf0d(0x1e1)](ensureNumber,_0x1609d1[_0x5ecf0d(0x236)]),_0x19d38b[_0x5ecf0d(0x1d2)](ensureNumber,_0x1609d1['factionScore']))+_0x19d38b[_0x5ecf0d(0x176)](ensureNumber,_0x1609d1['bindScore'])),_0x198c63=_0x19d38b[_0x5ecf0d(0x175)](_0x1609d1['id'],_0x2f9a3d),_0x389d01=_0x19d38b[_0x5ecf0d(0x207)](_0x1609d1['id'],_0x4378cd);return _0x5ecf0d(0x18f)+(_0x389d01?_0x19d38b[_0x5ecf0d(0x1ee)]:'')+'\x20'+(_0x198c63?_0x5ecf0d(0x218):'')+_0x5ecf0d(0x1ff)+_0x1609d1['id']+_0x5ecf0d(0x23e)+(_0x198c63?_0x19d38b['mYgRy']:'')+_0x5ecf0d(0x1c1)+(_0x389d01?'<span\x20class=\x22best-marker\x22>최고</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tab-main-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-score\x22>'+_0x4c91fb+_0x5ecf0d(0x20d)+_0x1609d1[_0x5ecf0d(0x18b)][_0x5ecf0d(0x18d)](0x5,0x10)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>';})[_0x24d01a(0x1a0)]('');_0x2a65f1[_0x24d01a(0x163)]='<div\x20class=\x22history-tabs\x22>'+_0x15acbc+'</div>',_0x2a65f1[_0x24d01a(0x185)](_0x24d01a(0x22f))[_0x24d01a(0x16f)](_0x2a8367=>{const _0x4c1ac0=_0x24d01a;_0x2a8367[_0x4c1ac0(0x19b)](_0x19d38b['aOnxV'],()=>{const _0x1dd501=_0x4c1ac0;_0x2a65f1[_0x1dd501(0x185)](_0x19d38b[_0x1dd501(0x1df)])[_0x1dd501(0x16f)](_0x3d3dc0=>_0x3d3dc0[_0x1dd501(0x208)][_0x1dd501(0x191)](_0x1dd501(0x1e4))),_0x2a8367[_0x1dd501(0x208)][_0x1dd501(0x18c)](_0x19d38b[_0x1dd501(0x222)]);const _0x489ce0=_0x19d38b[_0x1dd501(0x1b0)](parseInt,_0x2a8367['dataset'][_0x1dd501(0x1a7)],0xa),_0x5a616d=_0x32c9f5[_0x1dd501(0x1c4)](_0x4724a7=>_0x4724a7['id']===_0x489ce0);_0x5a616d&&_0x19d38b[_0x1dd501(0x21c)](updateResultView,_0x5a616d);});});}function renderSpiritDetailsTable(_0x4429c9){const _0x10a6c0=a0_0xd771a6,_0x2ba048={'kOqfV':_0x10a6c0(0x241),'teKwe':_0x10a6c0(0x1b7),'WHfMd':function(_0x1c5c37,_0x2fcb9c){return _0x1c5c37>_0x2fcb9c;},'gwRPN':_0x10a6c0(0x1b3),'vEZzb':function(_0x25aaa3,_0x6bc789){return _0x25aaa3===_0x6bc789;},'gIqBF':_0x10a6c0(0x1ed)},_0x301c0e=document['getElementById'](_0x2ba048['gwRPN']);if(!_0x301c0e)return;const _0x39d8b4=new Set();_0x4429c9[_0x10a6c0(0x16f)](_0x403c69=>{const _0x2161b9=_0x10a6c0,_0x167482=a0_0x15aa53[_0x2161b9(0x1ac)]['find'](_0x5650fa=>_0x5650fa['name']===_0x403c69[_0x2161b9(0x19a)]&&_0x5650fa[_0x2161b9(0x1b9)]===_0x403c69[_0x2161b9(0x1b9)]);if(!_0x167482)return;const _0x321596=_0x403c69['stats']?.[0x0]?.['level']||0x19,_0x3eaa4b=_0x167482[_0x2161b9(0x1af)][_0x2161b9(0x1c4)](_0x408436=>_0x408436[_0x2161b9(0x22d)]===_0x321596);if(_0x3eaa4b?.['bindStat'])Object[_0x2161b9(0x184)](_0x3eaa4b[_0x2161b9(0x1f3)])[_0x2161b9(0x16f)](_0x2403ab=>_0x39d8b4[_0x2161b9(0x18c)](_0x2403ab));});if(_0x2ba048[_0x10a6c0(0x1b1)](_0x39d8b4[_0x10a6c0(0x189)],0x0)){_0x301c0e[_0x10a6c0(0x163)]=_0x2ba048[_0x10a6c0(0x178)];return;}const _0x275fb2=[..._0x39d8b4][_0x10a6c0(0x1e6)]();let _0x19f159=_0x10a6c0(0x160)+_0x4429c9[_0x10a6c0(0x1e9)](_0x12dd21=>'<th><img\x20src=\x22/'+_0x12dd21[_0x10a6c0(0x168)]+_0x10a6c0(0x16e)+_0x12dd21[_0x10a6c0(0x19a)]+_0x10a6c0(0x214)+_0x12dd21[_0x10a6c0(0x19a)]+_0x10a6c0(0x1c2)+_0x12dd21[_0x10a6c0(0x19a)]+'</span></th>')[_0x10a6c0(0x1a0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22stat-total-header\x22>합산</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x275fb2[_0x10a6c0(0x16f)](_0x10388e=>{const _0x6a13e9=_0x10a6c0;if(_0x2ba048[_0x6a13e9(0x1be)]===_0x2ba048[_0x6a13e9(0x1bb)])_0x2be06f(_0x3a2dd2);else{const _0x532532=SPECIAL_STAT_CLASSES[_0x10388e]||'';let _0x56ae0d=0x0,_0x3e975b='';_0x4429c9[_0x6a13e9(0x16f)](_0x4d5be2=>{const _0x24eccb=_0x6a13e9,_0x2b6625=a0_0x15aa53[_0x24eccb(0x1ac)][_0x24eccb(0x1c4)](_0x502aa4=>_0x502aa4[_0x24eccb(0x19a)]===_0x4d5be2['name']&&_0x502aa4[_0x24eccb(0x1b9)]===_0x4d5be2[_0x24eccb(0x1b9)]),_0x3f2b1f=_0x4d5be2[_0x24eccb(0x1af)]?.[0x0]?.[_0x24eccb(0x22d)]||0x19,_0x52d4bc=_0x2b6625?.[_0x24eccb(0x1af)]['find'](_0x31fd61=>_0x31fd61[_0x24eccb(0x22d)]===_0x3f2b1f),_0x1e9319=ensureNumber(_0x52d4bc?.['bindStat']?.[_0x10388e]);_0x56ae0d+=_0x1e9319;const _0x33cff8=PERCENT_STATS[_0x24eccb(0x248)](_0x10388e)?_0x1e9319+'%':_0x1e9319['toLocaleString']();_0x3e975b+=_0x24eccb(0x1c0)+(_0x1e9319>0x0?_0x33cff8:'-')+_0x24eccb(0x1ae);});const _0x3b5196=PERCENT_STATS['includes'](_0x10388e)?_0x56ae0d['toFixed'](0x2)+'%':_0x56ae0d[_0x6a13e9(0x167)]();_0x19f159+=_0x6a13e9(0x21b)+_0x532532+_0x6a13e9(0x1db)+(STATS_MAPPING[_0x10388e]||_0x10388e)+_0x6a13e9(0x1bf)+_0x3e975b+_0x6a13e9(0x1cc)+(_0x2ba048[_0x6a13e9(0x215)](_0x56ae0d,0x0)?_0x3b5196:'-')+_0x6a13e9(0x177);}}),_0x19f159+=_0x10a6c0(0x227),_0x301c0e[_0x10a6c0(0x163)]=_0x19f159;}export function removeAllModals(){const _0x387000=a0_0xd771a6,_0x19635e={'tISce':_0x387000(0x16c),'lUJqI':_0x387000(0x1a9)};activeModal&&(document['removeEventListener'](_0x19635e[_0x387000(0x21d)],activeModal[_0x387000(0x1a8)]),activeModal[_0x387000(0x191)](),activeModal=null),document[_0x387000(0x217)]['style'][_0x387000(0x205)]=_0x19635e[_0x387000(0x1d4)];}